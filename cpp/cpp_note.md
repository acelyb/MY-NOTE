# CPP 学习

## C++ 基础

### 输入输出

### 变量和基本类型

#### 变量

##### 变量定义

定义并初始化为0：

```cpp
int a = 0;
// C++11 列表初始化，无论是初始化对象还是某些时候为对象赋新值，
// 都可以使用这样一组由花括号括起来的初始值
int a = {0};
int a{0};
int a(0);
```

如果使用列表初始化且初始化存在丢失信息的风险，则编译器将报错：

```cpp
long double ld = 3.1215926536;
int a{ld}, b = {ld};    // 错误：转换未执行，因为存在丢失信息的危险
int c(ld), d = ld;      // 正确：转换执行，且确实丢失了部分值
```

##### 变量声明和定义的关系

为了支持分离式编译，C++ 将声明和定义区分开来。声明（declaration）使得名字为程序所知，一个文件如果想使用别处定义的名字则必须包含对那个名字的声明。而定义（definition）负责创建与名字关联的实体。

定义除了规定变量的类型和名字，还申请存储空间，也可能会为变量赋一个初始值。

```cpp
extern int i;   // 声明 i 而非定义 i
int j;          // 声明并定义 j
```

任何包含了显式初始化的声明即成为定义。

```cpp
extern double pi = 3.1416;  // 定义
```

在函数体内部，如果试图初始化一个由`extern`关键字标记的变量，将引发错误。

> 变量能且只能被定义一次，但可以被多次声明

#### 复合类型

##### 引用

引用（reference）为对象起了另外一个名字，引用类型引用（refers to）另外一种类型。通过将声明符写成`&d`的形式来定义引用类型，其中`d`是声明的变量名：

```cpp
int ival = 1024;
int &refVal = ival;     // refVal 指向 ival（是 ival 的另一个名字）
int &refVal2;           // 报错：引用必须被初始化
```

一般在初始化变量时，初始值会被拷贝到新建的对象中。然而定义引用时，程序把引用和它的初始值绑定（bind）在一起，而不是将初始值拷贝给引用。

> 引用即别名

定义了一个引用后，对其进行的所有操作都是在与之绑定的对象上进行的：

```cpp
refVal = 2;         // 把2赋给 refVal 指向的对象，此处即是赋给了 ival
int ii = refVal;    // 与 ii = ival 执行的结果一样
